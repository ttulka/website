<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Interoperability | The AssemblyScript Book</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#007acc">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <meta name="description" content="How to talk to AssemblyScript from C or other languages.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.eeed5f1a.css" as="style"><link rel="preload" href="/assets/js/app.174c40c3.js" as="script"><link rel="preload" href="/assets/js/4.2c0643ad.js" as="script"><link rel="preload" href="/assets/js/3.5ce27dc9.js" as="script"><link rel="preload" href="/assets/js/35.5c3df048.js" as="script"><link rel="prefetch" href="/assets/js/10.7233805a.js"><link rel="prefetch" href="/assets/js/11.95a4ae24.js"><link rel="prefetch" href="/assets/js/12.dee0e02e.js"><link rel="prefetch" href="/assets/js/13.1f2af9e7.js"><link rel="prefetch" href="/assets/js/14.9bcf354a.js"><link rel="prefetch" href="/assets/js/15.ea608e34.js"><link rel="prefetch" href="/assets/js/16.3a84f2c0.js"><link rel="prefetch" href="/assets/js/17.454a2bd6.js"><link rel="prefetch" href="/assets/js/18.6fc697fb.js"><link rel="prefetch" href="/assets/js/19.00ed0c98.js"><link rel="prefetch" href="/assets/js/20.fb598805.js"><link rel="prefetch" href="/assets/js/21.fb56de61.js"><link rel="prefetch" href="/assets/js/22.96d6a56a.js"><link rel="prefetch" href="/assets/js/23.2ffbaf76.js"><link rel="prefetch" href="/assets/js/24.152b9881.js"><link rel="prefetch" href="/assets/js/25.38be00f3.js"><link rel="prefetch" href="/assets/js/26.43596b70.js"><link rel="prefetch" href="/assets/js/27.639c9b8c.js"><link rel="prefetch" href="/assets/js/28.6b084806.js"><link rel="prefetch" href="/assets/js/29.fb67cad9.js"><link rel="prefetch" href="/assets/js/30.4ac1966b.js"><link rel="prefetch" href="/assets/js/31.be9ecd50.js"><link rel="prefetch" href="/assets/js/32.406c5f3f.js"><link rel="prefetch" href="/assets/js/33.b703d6b9.js"><link rel="prefetch" href="/assets/js/34.12d38c42.js"><link rel="prefetch" href="/assets/js/36.eca09039.js"><link rel="prefetch" href="/assets/js/37.36976e02.js"><link rel="prefetch" href="/assets/js/38.0393486c.js"><link rel="prefetch" href="/assets/js/39.e85a5cfa.js"><link rel="prefetch" href="/assets/js/40.fb8f28f9.js"><link rel="prefetch" href="/assets/js/41.3475a70b.js"><link rel="prefetch" href="/assets/js/42.346775b0.js"><link rel="prefetch" href="/assets/js/43.5f8b3708.js"><link rel="prefetch" href="/assets/js/44.6ef299e6.js"><link rel="prefetch" href="/assets/js/45.d7293363.js"><link rel="prefetch" href="/assets/js/46.076cf624.js"><link rel="prefetch" href="/assets/js/47.39a6f35d.js"><link rel="prefetch" href="/assets/js/48.c583ec81.js"><link rel="prefetch" href="/assets/js/49.64886163.js"><link rel="prefetch" href="/assets/js/5.c4199f6b.js"><link rel="prefetch" href="/assets/js/50.fa642d33.js"><link rel="prefetch" href="/assets/js/51.ef3f9ed1.js"><link rel="prefetch" href="/assets/js/52.b1bc080c.js"><link rel="prefetch" href="/assets/js/53.f3eef220.js"><link rel="prefetch" href="/assets/js/54.4ffbd59a.js"><link rel="prefetch" href="/assets/js/55.4ee224d7.js"><link rel="prefetch" href="/assets/js/56.2b63c551.js"><link rel="prefetch" href="/assets/js/57.4305601c.js"><link rel="prefetch" href="/assets/js/58.7ab4b86e.js"><link rel="prefetch" href="/assets/js/59.942b52db.js"><link rel="prefetch" href="/assets/js/6.8dd2fa90.js"><link rel="prefetch" href="/assets/js/60.ebaa0dbc.js"><link rel="prefetch" href="/assets/js/61.327f8a3a.js"><link rel="prefetch" href="/assets/js/62.09441266.js"><link rel="prefetch" href="/assets/js/63.e3cc763c.js"><link rel="prefetch" href="/assets/js/64.4d14e3f1.js"><link rel="prefetch" href="/assets/js/7.4a11af92.js"><link rel="prefetch" href="/assets/js/8.5704121c.js"><link rel="prefetch" href="/assets/js/9.471fcd4b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.7912142d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.eeed5f1a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-8ef39a8a><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/icon.svg" alt="The AssemblyScript Book" class="logo"> <span class="site-name can-hide">The AssemblyScript Book</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/introduction.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Standard library" class="dropdown-title"><span class="title">Standard library</span> <span class="arrow down"></span></button> <button type="button" aria-label="Standard library" class="mobile-dropdown-title"><span class="title">Standard library</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stdlib/globals.html" class="nav-link">
  Globals
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/array.html" class="nav-link">
  Array
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/arraybuffer.html" class="nav-link">
  ArrayBuffer
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/dataview.html" class="nav-link">
  DataView
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/date.html" class="nav-link">
  Date
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/error.html" class="nav-link">
  Error
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/map.html" class="nav-link">
  Map
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/math.html" class="nav-link">
  Math
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/number.html" class="nav-link">
  Number
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/set.html" class="nav-link">
  Set
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/string.html" class="nav-link">
  String
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/symbol.html" class="nav-link">
  Symbol
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/typedarray.html" class="nav-link">
  TypedArray
</a></li><li class="dropdown-item"><h4>
          Extended
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/stdlib/builtins.html" class="nav-link">
  Builtins
</a></li><li class="dropdown-subitem"><a href="/stdlib/staticarray.html" class="nav-link">
  StaticArray
</a></li><li class="dropdown-subitem"><a href="/stdlib/heap.html" class="nav-link">
  heap
</a></li><li class="dropdown-subitem"><a href="/stdlib/process.html" class="nav-link">
  process
</a></li><li class="dropdown-subitem"><a href="/stdlib/console.html" class="nav-link">
  console
</a></li><li class="dropdown-subitem"><a href="/stdlib/crypto.html" class="nav-link">
  crypto
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/examples.html" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/assemblyscript/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contributing guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/assemblyscript/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code of Conduct
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/core" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Core / Governance
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/community-group" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Group
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Social
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://twitter.com/AssemblyScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://discord.gg/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Q&amp;A
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://stackoverflow.com/questions/tagged/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://opencollective.com/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/AssemblyScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/introduction.html" class="nav-link">
  Documentation
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Standard library" class="dropdown-title"><span class="title">Standard library</span> <span class="arrow down"></span></button> <button type="button" aria-label="Standard library" class="mobile-dropdown-title"><span class="title">Standard library</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/stdlib/globals.html" class="nav-link">
  Globals
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/array.html" class="nav-link">
  Array
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/arraybuffer.html" class="nav-link">
  ArrayBuffer
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/dataview.html" class="nav-link">
  DataView
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/date.html" class="nav-link">
  Date
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/error.html" class="nav-link">
  Error
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/map.html" class="nav-link">
  Map
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/math.html" class="nav-link">
  Math
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/number.html" class="nav-link">
  Number
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/set.html" class="nav-link">
  Set
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/string.html" class="nav-link">
  String
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/symbol.html" class="nav-link">
  Symbol
</a></li><li class="dropdown-item"><!----> <a href="/stdlib/typedarray.html" class="nav-link">
  TypedArray
</a></li><li class="dropdown-item"><h4>
          Extended
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/stdlib/builtins.html" class="nav-link">
  Builtins
</a></li><li class="dropdown-subitem"><a href="/stdlib/staticarray.html" class="nav-link">
  StaticArray
</a></li><li class="dropdown-subitem"><a href="/stdlib/heap.html" class="nav-link">
  heap
</a></li><li class="dropdown-subitem"><a href="/stdlib/process.html" class="nav-link">
  process
</a></li><li class="dropdown-subitem"><a href="/stdlib/console.html" class="nav-link">
  console
</a></li><li class="dropdown-subitem"><a href="/stdlib/crypto.html" class="nav-link">
  crypto
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/examples.html" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/assemblyscript/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Contributing guidelines
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/assemblyscript/blob/main/CODE_OF_CONDUCT.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code of Conduct
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/core" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Core / Governance
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/AssemblyScript/community-group" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Community Group
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          Social
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://twitter.com/AssemblyScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://discord.gg/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Q&amp;A
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://stackoverflow.com/questions/tagged/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Stack Overflow
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://opencollective.com/assemblyscript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/AssemblyScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/quick-start.html" class="sidebar-link">Quick Start</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basics.html" class="sidebar-link">Basic concepts</a></li><li><a href="/status.html" class="sidebar-link">Implementation status</a></li><li><a href="/compiler.html" class="sidebar-link">Using the compiler</a></li><li><a href="/types.html" class="sidebar-link">WebAssembly types</a></li><li><a href="/exports-and-imports.html" class="sidebar-link">Exports and imports</a></li><li><a href="/loader.html" class="sidebar-link">Using the loader</a></li><li><a href="/frequently-asked-questions.html" class="sidebar-link">Frequently asked questions</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/memory.html" class="sidebar-link">Memory</a></li><li><a href="/garbage-collection.html" class="sidebar-link">Garbage Collection</a></li><li><a href="/peculiarities.html" class="sidebar-link">Peculiarities</a></li><li><a href="/portability.html" class="sidebar-link">Portability</a></li><li><a href="/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/interoperability.html" aria-current="page" class="active sidebar-link">Interoperability</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interoperability.html#strings" class="sidebar-link">Strings</a></li><li class="sidebar-sub-header"><a href="/interoperability.html#class-layout" class="sidebar-link">Class layout</a></li><li class="sidebar-sub-header"><a href="/interoperability.html#calling-convention" class="sidebar-link">Calling convention</a></li><li class="sidebar-sub-header"><a href="/interoperability.html#optional-arguments" class="sidebar-link">Optional arguments</a></li><li class="sidebar-sub-header"><a href="/interoperability.html#garbage-collection" class="sidebar-link">Garbage collection</a></li></ul></li><li><a href="/transforms.html" class="sidebar-link">Transforms</a></li><li><a href="/development.html" class="sidebar-link">Development</a></li></ul></section></li></ul> </aside> <main class="page" data-v-d1fc1622> <div class="theme-default-content content__default" data-v-d1fc1622><h1 id="interoperability"><a href="#interoperability" class="header-anchor">#</a> Interoperability</h1> <p>How to talk to AssemblyScript from C or other languages.</p> <h2 id="strings"><a href="#strings" class="header-anchor">#</a> Strings</h2> <p>Strings in AssemblyScript are stored in <a href="https://simonsapin.github.io/wtf-8/#ill-formed-utf-16" target="_blank" rel="noopener noreferrer">WTF-16<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> encoding, closely matching JavaScript and its string APIs. When embedding AssemblyScript into a C or Rust environment, conversion between WTF-16 and UTF-8 is typically necessary (<a href="/stdlib/string.html#encoding-api">API</a>).</p> <p>Details to keep in mind: In UTF-16, certain Unicode <strong>code points</strong> are represented by two UTF-16 <strong>code units</strong> called surrogate pairs. However, just like in JavaScript, strings are not sanitized so lone surrogates can appear in a string, which are technically ill-formed UTF-16. This is done to mimic JavaScript as closely as possible, and avoids string re-encoding when calling JavaScript APIs from WebAssembly.</p> <p>We hope that future WebAssembly features will be designed with both C/Rust and JS/WebAPIs in mind without penalizing the respective other. (<a href="https://github.com/WebAssembly/interface-types/issues/13" target="_blank" rel="noopener noreferrer">1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/WebAssembly/gc/issues/145" target="_blank" rel="noopener noreferrer">2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p> <h2 id="class-layout"><a href="#class-layout" class="header-anchor">#</a> Class layout</h2> <p>Layout of objects in memory resembles that of non-packed C structs, and <code>@unmanaged</code> classes (not tracked by GC, essentially C structs) can be used to describe them:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token class-name">uint32_t</span> bar<span class="token punctuation">;</span>
  <span class="token class-name">uint16_t</span> baz<span class="token punctuation">;</span>
  <span class="token class-name">uint64_t</span> qux<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>@unmanaged <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  bar<span class="token operator">:</span> <span class="token builtin">u32</span><span class="token punctuation">;</span> <span class="token comment">// aligned to 4 bytes</span>
  baz<span class="token operator">:</span> <span class="token builtin">u16</span><span class="token punctuation">;</span> <span class="token comment">// aligned to 2 bytes</span>
  qux<span class="token operator">:</span> <span class="token builtin">u64</span><span class="token punctuation">;</span> <span class="token comment">// aligned to 8 bytes</span>
<span class="token punctuation">}</span>

<span class="token generic-function"><span class="token function">offsetof</span><span class="token generic class-name"><span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
<span class="token generic-function"><span class="token function">offsetof</span><span class="token generic class-name"><span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;baz&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">4</span>
<span class="token generic-function"><span class="token function">offsetof</span><span class="token generic class-name"><span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;qux&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">8</span>
<span class="token generic-function"><span class="token function">offsetof</span><span class="token generic class-name"><span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">16</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token generic-function"><span class="token function">changetype</span><span class="token generic class-name"><span class="token operator">&lt;</span>Foo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>ptrToFoo<span class="token punctuation">)</span>
foo<span class="token punctuation">.</span>bar <span class="token comment">// -&gt; i32.load(ptrToFoo, 0)</span>
foo<span class="token punctuation">.</span>baz <span class="token comment">// -&gt; i32.load16_u(ptrToFoo, 4)</span>
foo<span class="token punctuation">.</span>qux <span class="token comment">// -&gt; i64.load(ptrToFoo, 8)</span>
</code></pre></div><p>More complex structures usually require manual offset calculation, mostly for the reason that it is not feasible to implement something more specific into AssemblyScript as it does not use such structures on its own:</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token class-name">int32_t</span> bar<span class="token punctuation">;</span>
  <span class="token class-name">uint32_t</span> baz<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code>@unmanaged <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  bar<span class="token operator">:</span> <span class="token builtin">i32</span>
  <span class="token function">getBaz</span><span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">i32</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">u32</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token generic-function"><span class="token function">load</span><span class="token generic class-name"><span class="token operator">&lt;</span>u32<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
      <span class="token generic-function"><span class="token function">changetype</span><span class="token generic class-name"><span class="token operator">&lt;</span>usize<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">usize</span><span class="token operator">&gt;</span>i <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">alignof</span><span class="token generic class-name"><span class="token operator">&lt;</span>u32<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token number">4</span> <span class="token comment">// or use offsetof/sizeof to calculate the base offset plus alignment</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="calling-convention"><a href="#calling-convention" class="header-anchor">#</a> Calling convention</h2> <p>Exported functions will properly wrap return values, but functions not visible externally do not guarantee proper wrapping.</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getU8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">u8</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> someU8 <span class="token comment">// will wrap to someU8 &amp; 0xff</span>
<span class="token punctuation">}</span>
</code></pre></div><p>On the other hand, calling any AssemblyScript function does not require wrapping of arguments.</p> <h2 id="optional-arguments"><a href="#optional-arguments" class="header-anchor">#</a> Optional arguments</h2> <p>If a function exported from AssemblyScript accepts optional arguments, the <code>exports.__setArgumentsLength(numArguments)</code> helper must be called with the number of actual arguments (while zeroing all the others) to inform the varargs stub to fill in the default values of omitted arguments. The <a href="/loader.html">loader</a> does this automatically.</p> <h2 id="garbage-collection"><a href="#garbage-collection" class="header-anchor">#</a> Garbage collection</h2> <p>Also see the dedicated page on <a href="/garbage-collection.html">garbage collection</a>.</p></div> <footer class="page-edit" data-v-d1fc1622><div class="edit-link"><a href="https://github.com/AssemblyScript/website/edit/main/src/interoperability.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav" data-v-d1fc1622><p class="inner"><span class="prev">
      ←
      <a href="/debugging.html" class="prev">
        Debugging
      </a></span> <span class="next"><a href="/transforms.html">
        Transforms
      </a>
      →
    </span></p></div> <div class="footer" data-v-d1fc1622 data-v-8ef39a8a><p data-v-d1fc1622 data-v-8ef39a8a><span class="item" data-v-d1fc1622 data-v-8ef39a8a>Apache-2.0 licensed</span>,
      <span class="item" data-v-d1fc1622 data-v-8ef39a8a>Copyright © 2021</span> <span class="item" data-v-d1fc1622 data-v-8ef39a8a>The AssemblyScript Project</span></p></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.174c40c3.js" defer></script><script src="/assets/js/4.2c0643ad.js" defer></script><script src="/assets/js/3.5ce27dc9.js" defer></script><script src="/assets/js/35.5c3df048.js" defer></script>
  </body>
</html>
